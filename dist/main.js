(()=>{"use strict";const e=document.getElementById("generate");let t=new Date,n=t.getMonth()+"."+t.getDate()+"."+t.getFullYear();e.addEventListener("click",(async function(){zip=document.getElementById("zip").value;const e=document.getElementById("feelings").value;(async e=>{const t=await fetch(e);console.log(t);try{const e=await t.json();return console.log("weather data: ",e),e}catch(e){console.log("error",e)}})("https://api.openweathermap.org/data/2.5/weather?zip="+zip+"&units=metric&appid=93ec3247177dbb56166d5141dcdca068").then((t=>{(async(e="",t={})=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{await n.json()}catch(e){console.log("error",e)}})("/",{temperature:t.main.temp,date:n,feelings:e})})).then((()=>{a()}))}));const a=async()=>{const e=await fetch("/all");try{const t=await e.json();document.getElementById("date").innerHTML=t.date,document.getElementById("temp").innerHTML=`${t.temperature} &#8451;`,document.getElementById("content").innerHTML=t.feelings}catch(e){console.log("error",e)}}})();